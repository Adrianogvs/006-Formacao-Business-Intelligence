-- CRIANDO TABELA CLIENTE NO LEGADO
create table CLIENTE(
	CD_CLIENTE INT4 not null,
	NOME_CLIENTE VARCHAR(100) not null,
	EMAIL_CLIENTE VARCHAR(100) not null,
    constraint CLIENTE_PK primary key (CD_CLIENTE)
);


-- INSERINDO DADOS NA TABELA CLIENTE
insert into CLIENTE VALUES(128, 'PITHON', 'SUPORT@GRUOL.COM.BR');
insert into CLIENTE VALUES(2001, 'DORIVA', 'DORIVA@GRUOL.COM.BR');
insert into CLIENTE VALUES(3001, 'RIGO', 'RIGO@GRUOL.COM.BR');
insert into CLIENTE VALUES(4001, 'ROB', 'ROB@GRUOL.COM.BR');

--VALIDANDO OS DADOS
select	*
from CLIENTE;


-- CRIANDO TABELA ITENS DO PEDIDO
create table ITENS_PEDIDO(
	NUMERO_PEDIDO INTEGER not null,
	CODIGO_PRODUTO VARCHAR(50) not null,
	QUANTIDADE_PEDIDO INTEGER not null,
	PRECO_UNITARIO DOUBLE precision not null,
	NUMERO_LINHA_PEDIDO smallint not null,
	primary key (NUMERO_PEDIDO, CODIGO_PRODUTO)
);

--VALIDANDO OS DADOS
select *
from itens_pedido;

truncate itens_pedido ;

-- INSERINDO DADOS NA TABELA ITENS DO PEDIDO
insert into ITENS_PEDIDO VALUES(10100,'S24_1987',30,98.5,3);
insert into ITENS_PEDIDO VALUES(10100,'S24_1471',20,74.1,3);
insert into ITENS_PEDIDO VALUES(10101,'S24_1922',5,1.58,3);
insert into ITENS_PEDIDO VALUES(10101,'S24_0245',10,33.14,3);
insert into ITENS_PEDIDO VALUES(10101,'C24_8444',15,67.12,1);
insert into ITENS_PEDIDO VALUES(10101,'C23_8444',20,171.8,2);
insert into ITENS_PEDIDO VALUES(10101,'C22_8444',25,67.9,3);
insert into ITENS_PEDIDO VALUES(10102,'S24_1987',30,50.9,4);
insert into ITENS_PEDIDO VALUES(10102,'S24_1471',35,77.5,5);
insert into ITENS_PEDIDO VALUES(10102,'S24_1922',40,13.9,6);
insert into ITENS_PEDIDO VALUES(10102,'S24_0245',45,98.6,7);
insert into ITENS_PEDIDO VALUES(10102,'C24_8444',50,74.2,8);
insert into ITENS_PEDIDO VALUES(10103,'C23_8444',55,1.59,9);
insert into ITENS_PEDIDO VALUES(10103,'C22_8444',60,33.15,10);
insert into ITENS_PEDIDO VALUES(10103,'S24_1987',65,67.13,1);
insert into ITENS_PEDIDO VALUES(10103,'S24_1471',70,171.9,2);
insert into ITENS_PEDIDO VALUES(10103,'S24_1922',75,67.10,3);
insert into ITENS_PEDIDO VALUES(10104,'S24_0245',80,50.10,3);
insert into ITENS_PEDIDO VALUES(10104,'C24_8444',85,77.6,3);
insert into ITENS_PEDIDO VALUES(10104,'C23_8444',90,13.10,3);
insert into ITENS_PEDIDO VALUES(10104,'C22_8444',95,98.7,3);
insert into ITENS_PEDIDO VALUES(10104,'S24_1987',100,74.3,3);
insert into ITENS_PEDIDO VALUES(10105,'S24_1471',10,1.60,3);
insert into ITENS_PEDIDO VALUES(10105,'S24_1922',5,33.16,1);
insert into ITENS_PEDIDO VALUES(10105,'S24_0245',20,67.14,2);
insert into ITENS_PEDIDO VALUES(10105,'C24_8444',25,171.10,3);
insert into ITENS_PEDIDO VALUES(10105,'C23_8444',10,67.11,4);
insert into ITENS_PEDIDO VALUES(10106,'C22_8444',30,50.11,5);
insert into ITENS_PEDIDO VALUES(10106,'S24_1987',20,77.7,6);
insert into ITENS_PEDIDO VALUES(10106,'S24_1471',5,13.11,7);
insert into ITENS_PEDIDO VALUES(10106,'S24_1922',10,98.8,8);
insert into ITENS_PEDIDO VALUES(10106,'S24_0245',15,74.4,9);
insert into ITENS_PEDIDO VALUES(10107,'C24_8444',20,1.61,10);
insert into ITENS_PEDIDO VALUES(10107,'C23_8444',25,33.17,1);
insert into ITENS_PEDIDO VALUES(10107,'C22_8444',30,67.15,2);
insert into ITENS_PEDIDO VALUES(10107,'S24_1987',35,171.11,3);
insert into ITENS_PEDIDO VALUES(10107,'S24_1471',40,67.12,3);
insert into ITENS_PEDIDO VALUES(10108,'S24_1922',45,50.12,3);
insert into ITENS_PEDIDO VALUES(10108,'S24_0245',50,77.8,3);
insert into ITENS_PEDIDO VALUES(10108,'C24_8444',55,13.12,3);
insert into ITENS_PEDIDO VALUES(10108,'C23_8444',60,98.9,3);
insert into ITENS_PEDIDO VALUES(10108,'C22_8444',65,74.5,3);
insert into ITENS_PEDIDO VALUES(10109,'S24_1987',70,1.62,1);
insert into ITENS_PEDIDO VALUES(10109,'S24_1471',75,33.18,2);
insert into ITENS_PEDIDO VALUES(10109,'S24_1922',80,67.16,3);
insert into ITENS_PEDIDO VALUES(10109,'S24_0245',85,171.12,4);
insert into ITENS_PEDIDO VALUES(10109,'C24_8444',90,67.13,5);
insert into ITENS_PEDIDO VALUES(10110,'C23_8444',95,50.13,6);
insert into ITENS_PEDIDO VALUES(10110,'C22_8444',100,77.9,7);
insert into ITENS_PEDIDO VALUES(10110,'S24_1987',10,13.13,8);
insert into ITENS_PEDIDO VALUES(10110,'S24_1471',5,98.10,9);
insert into ITENS_PEDIDO VALUES(10110,'S24_1922',20,74.6,10);
insert into ITENS_PEDIDO VALUES(10111,'S24_0245',25,1.63,1);
insert into ITENS_PEDIDO VALUES(10111,'C24_8444',10,33.19,2);
insert into ITENS_PEDIDO VALUES(10111,'C23_8444',30,67.17,3);
insert into ITENS_PEDIDO VALUES(10111,'C22_8444',20,171.13,3);
insert into ITENS_PEDIDO VALUES(10111,'S24_1987',5,67.14,3);
insert into ITENS_PEDIDO VALUES(10112,'S24_1471',10,50.14,3);
insert into ITENS_PEDIDO VALUES(10112,'S24_1922',15,77.10,3);
insert into ITENS_PEDIDO VALUES(10112,'S24_0245',20,13.14,3);
insert into ITENS_PEDIDO VALUES(10112,'C24_8444',25,98.11,3);
insert into ITENS_PEDIDO VALUES(10112,'C23_8444',30,74.7,1);
insert into ITENS_PEDIDO VALUES(10113,'C22_8444',35,1.64,2);
insert into ITENS_PEDIDO VALUES(10113,'S24_1987',40,33.20,3);
insert into ITENS_PEDIDO VALUES(10113,'S24_1471',45,67.18,4);
insert into ITENS_PEDIDO VALUES(10113,'S24_1922',50,171.14,5);
insert into ITENS_PEDIDO VALUES(10113,'S24_0245',55,67.15,6);
insert into ITENS_PEDIDO VALUES(10114,'C24_8444',60,50.15,7);
insert into ITENS_PEDIDO VALUES(10114,'C23_8444',65,77.11,8);
insert into ITENS_PEDIDO VALUES(10114,'C22_8444',70,13.15,9);
insert into ITENS_PEDIDO VALUES(10114,'S24_1987',75,98.12,10);
insert into ITENS_PEDIDO VALUES(10114,'S24_1471',80,74.8,1);
insert into ITENS_PEDIDO VALUES(10115,'S24_1922',85,1.65,2);
insert into ITENS_PEDIDO VALUES(10115,'S24_0245',90,33.21,3);
insert into ITENS_PEDIDO VALUES(10115,'C24_8444',95,67.19,3);
insert into ITENS_PEDIDO VALUES(10115,'C23_8444',100,171.15,3);
insert into ITENS_PEDIDO VALUES(10115,'C22_8444',10,67.16,3);
insert into ITENS_PEDIDO VALUES(10116,'S24_1987',5,50.16,3);
insert into ITENS_PEDIDO VALUES(10116,'S24_1471',20,77.12,3);
insert into ITENS_PEDIDO VALUES(10116,'S24_1922',25,13.16,3);
insert into ITENS_PEDIDO VALUES(10116,'S24_0245',10,98.13,1);
insert into ITENS_PEDIDO VALUES(10116,'C24_8444',30,74.9,2);
insert into ITENS_PEDIDO VALUES(10117,'C23_8444',20,1.66,3);
insert into ITENS_PEDIDO VALUES(10117,'C22_8444',5,33.22,4);
insert into ITENS_PEDIDO VALUES(10117,'S24_1987',10,67.20,5);
insert into ITENS_PEDIDO VALUES(10117,'S24_1471',15,171.16,6);
insert into ITENS_PEDIDO VALUES(10117,'S24_1922',20,67.17,7);
insert into ITENS_PEDIDO VALUES(10118,'S24_0245',25,50.17,8);
insert into ITENS_PEDIDO VALUES(10118,'C24_8444',30,77.13,9);
insert into ITENS_PEDIDO VALUES(10118,'C23_8444',35,13.17,10);
insert into ITENS_PEDIDO VALUES(10118,'C22_8444',40,98.14,1);
insert into ITENS_PEDIDO VALUES(10118,'S24_1987',45,74.10,2);
insert into ITENS_PEDIDO VALUES(10119,'S24_1471',50,1.67,3);
insert into ITENS_PEDIDO VALUES(10119,'S24_1922',55,33.23,3);
insert into ITENS_PEDIDO VALUES(10119,'S24_0245',60,67.21,3);
insert into ITENS_PEDIDO VALUES(10119,'C24_8444',65,171.17,3);
insert into ITENS_PEDIDO VALUES(10119,'C23_8444',70,67.18,3);
insert into ITENS_PEDIDO VALUES(10120,'C22_8444',75,50.18,3);
insert into ITENS_PEDIDO VALUES(10120,'S24_1987',80,77.14,3);
insert into ITENS_PEDIDO VALUES(10120,'S24_1471',85,13.18,1);
insert into ITENS_PEDIDO VALUES(10120,'S24_1922',90,98.15,2);
insert into ITENS_PEDIDO VALUES(10120,'S24_0245',95,74.11,3);
insert into ITENS_PEDIDO VALUES(10121,'C24_8444',100,1.68,4);
insert into ITENS_PEDIDO VALUES(10121,'C23_8444',10,33.24,5);
insert into ITENS_PEDIDO VALUES(10121,'C22_8444',5,67.22,6);
insert into ITENS_PEDIDO VALUES(10121,'S24_1987',20,171.18,7);
insert into ITENS_PEDIDO VALUES(10121,'S24_1471',25,67.19,8);
insert into ITENS_PEDIDO VALUES(10122,'S24_1922',10,50.19,9);
insert into ITENS_PEDIDO VALUES(10122,'S24_0245',30,77.15,10);
insert into ITENS_PEDIDO VALUES(10122,'C24_8444',20,13.19,1);
insert into ITENS_PEDIDO VALUES(10122,'C23_8444',5,98.16,2);
insert into ITENS_PEDIDO VALUES(10122,'C22_8444',10,74.12,3);
insert into ITENS_PEDIDO VALUES(10123,'S24_1987',15,1.69,3);
insert into ITENS_PEDIDO VALUES(10123,'S24_1471',20,33.25,3);
insert into ITENS_PEDIDO VALUES(10123,'S24_1922',25,67.23,3);
insert into ITENS_PEDIDO VALUES(10123,'S24_0245',30,171.19,3);
insert into ITENS_PEDIDO VALUES(10123,'C24_8444',35,67.20,3);
insert into ITENS_PEDIDO VALUES(10124,'C23_8444',40,50.20,3);
insert into ITENS_PEDIDO VALUES(10124,'C22_8444',45,77.16,1);
insert into ITENS_PEDIDO VALUES(10124,'S24_1987',50,13.20,2);
insert into ITENS_PEDIDO VALUES(10124,'S24_1471',55,98.17,3);
insert into ITENS_PEDIDO VALUES(10124,'S24_1922',60,74.13,4);
insert into ITENS_PEDIDO VALUES(10125,'S24_0245',65,1.70,5);


-- CRIANDO TABELA PEDIDOS
create table PEDIDO(
	NUMERO_PEDIDO INTEGER not null,
	DATA_PEDIDO TIMESTAMP not null,
	DATA_PAGAMENTO_PEDIDO TIMESTAMP not null,
	DATA_ENTREGA_PEDIDO TIMESTAMP default null,
	STATUS_PEDIDO VARCHAR(100) not null,
	COMENTARIO text,
	NUMERO_CLIENTE INTEGER not null,
	primary key (NUMERO_PEDIDO)
);

--VALIDANDO OS DADOS
select * from PEDIDO;

truncate table PEDIDO;


-- INSERINDO DADOS NA TABELA PEDIDO
insert into PEDIDO VALUES(10100,'1/1/17 0:00','7/1/17 0:00',NULL,'AGUARDANDO PAGAMENTO',null,2001);
insert into PEDIDO VALUES(10101,'2/1/17 0:00','9/1/17 0:00','22/1/17 0:00','PAGO',null,3001);
insert into PEDIDO VALUES(10102,'3/1/17 0:00','11/1/17 0:00','24/1/17 0:00','PEDIDO ENVIADO',null,128);
insert into PEDIDO VALUES(10103,'4/1/17 0:00','13/1/17 0:00','26/1/17 0:00','ENTREGUE',null,4001);
insert into PEDIDO VALUES(10104,'5/1/17 0:00','15/1/17 0:00','28/1/17 0:00','AGUARDANDO PAGAMENTO',null,2001);
insert into PEDIDO VALUES(10105,'6/1/17 0:00','17/1/17 0:00','30/1/17 0:00','PAGO',null,3001);
insert into PEDIDO VALUES(10106,'7/1/17 0:00','19/1/17 0:00','1/2/17 0:00','PEDIDO ENVIADO',null,128);
insert into PEDIDO VALUES(10107,'8/1/17 0:00','21/1/17 0:00','3/2/17 0:00','ENTREGUE',null,4001);
insert into PEDIDO VALUES(10108,'9/1/17 0:00','23/1/17 0:00','5/2/17 0:00','AGUARDANDO PAGAMENTO',null,2001);
insert into PEDIDO VALUES(10109,'10/1/17 0:00','25/1/17 0:00',NULL,'PAGO',null,3001);
insert into PEDIDO VALUES(10110,'11/1/17 0:00','27/1/17 0:00','9/2/17 0:00','PEDIDO ENVIADO',null,128);
insert into PEDIDO VALUES(10111,'12/1/17 0:00','29/1/17 0:00','11/2/17 0:00','ENTREGUE',null,4001);
insert into PEDIDO VALUES(10112,'13/1/17 0:00','31/1/17 0:00','13/2/17 0:00','AGUARDANDO PAGAMENTO',null,181);
insert into PEDIDO VALUES(10113,'14/1/17 0:00','2/2/17 0:00',NULL,'PAGO',null,121);
insert into PEDIDO VALUES(10114,'15/1/17 0:00','4/2/17 0:00','17/2/17 0:00','PEDIDO ENVIADO',null,141);
insert into PEDIDO VALUES(10115,'16/1/17 0:00','6/2/17 0:00','19/2/17 0:00','ENTREGUE',null,145);
insert into PEDIDO VALUES(10116,'17/1/17 0:00','8/2/17 0:00',NULL,'AGUARDANDO PAGAMENTO',null,278);
insert into PEDIDO VALUES(10117,'18/1/17 0:00','10/2/17 0:00','23/2/17 0:00','PAGO',null,131);
insert into PEDIDO VALUES(10118,'19/1/17 0:00','12/2/17 0:00','25/2/17 0:00','PEDIDO ENVIADO',null,385);
insert into PEDIDO VALUES(10119,'20/1/17 0:00','14/2/17 0:00','27/2/17 0:00','ENTREGUE',null,4001);



-- CRIANDO TABELA PRODUTOS
create table PRODUTO(
	COD_PRODUTO VARCHAR(50) not null,
	NOME_PRODUTO VARCHAR(70) not null,
	CATEGORIA_PRODUTO VARCHAR(50) not null,
	MEDIDA_PRODUTO VARCHAR(10) not null,
	FORNECEDOR_PRODUTO VARCHAR(50) not null,
	DESCRICAO_PRODUTO text not null,
	QTD_ESTOQUE_PRODUTO INTEGER not null,
	PRECO_PRODUTO NUMERIC(12,4) not null,
	STATUS_PRODUTO VARCHAR(100) not null,
	constraint PRODUTO_PK primary key (COD_PRODUTO)
);

truncate table PRODUTO;

-- INSERINDO DADOS NA TABELA PRODUTOS
insert into PRODUTO VALUES('S24_1937','PIZZA 4 QUEIJOS','PIZZA SALGADA','45CM','CASA DAS MASSAS','CALABRESA ITALIANA',22,56.50,'ATIVO');
insert into PRODUTO VALUES('S24_1477','PIZZA FRANGO COM CATUPIRI','PIZZA SALGADA','45CM','CASA DAS MASSAS','FRANGO CATUPIRI',20,58.50,'ATIVO');
insert into PRODUTO VALUES('S24_1417','PIZZA A MODA DA CASA','PIZZA SALGADA','45CM','CASA DAS MASSAS','A MODA DA CASA',22,76.50,'ATIVO');
insert into PRODUTO VALUES('S24_1987','PIZZA COSTELA BOVIA','PIZZA SALGADA','45CM','CASA DAS MASSAS','COSTELA BOVIA',22,56.50,'ATIVO');
insert into PRODUTO VALUES('S24_1471','PIZZA ITALIANA','PIZZA SALGADA','45CM','CASA DAS MASSAS','ITALIANA',2,46.50,'ATIVO');
insert into PRODUTO VALUES('S24_1922','PIZZA CAMARÃO','PIZZA SALGADA','45CM','CASA DAS MASSAS','CAMARÃO',22,37.50,'ATIVO');
insert into PRODUTO VALUES('S24_0245','PIZZA CALABRESA','PIZZA SALGADA','45CM','CASA DAS MASSAS','CALABRESA',13,28.50,'ATIVO');
insert into PRODUTO VALUES('C24_8444','COCA-COLA','BEBIDA','1.5L','COCA-COLA','REFRIGERANTE',18,11.50,'ATIVO');
insert into PRODUTO VALUES('C23_8444','GUARANA','BEBIDA','1.5L','COCA-COLA','REFRIGERANTE',12,9.50,'ATIVO');
insert into PRODUTO VALUES('C22_8444','FANTA LARANJA','BEBIDA','1.5L','COCA-COLA','REFRIGERANTE',13,10.50,'ATIVO');

--VALIDANDO OS DADOS
select 	*
from PRODUTO;

commit;